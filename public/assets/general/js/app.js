function func_isEmpty(e){return void 0===e||(null===e||""===e)}function func_replaceNull(e){return null==e?"":e}function func_booleanValue(e){return"true"==(e=String(e).toLowerCase())||"1"==e}function is_ElementExist(e){return void 0!==e&&null!=e}function is_ElementExistById(e){try{return is_ElementExist(document.getElementById(e))}catch(e){return!1}}function func_hasClass(e,t){return!0===e.classList.contains(t)}function setupStringFormat(){String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,(function(t,n){return void 0!==e[n]?e[n]:t}))})}function togglePasswordVisibility(e,t,n){if(is_ElementExistById(e)){var i=document.getElementById(e);"password"===i.type?i.type="text":i.type="password",toggleElementClass(t,"d-none"),toggleElementClass(n,"d-none")}}function toggleElementClass(e,t){is_ElementExistById(e)&&document.getElementById(e).classList.toggle(t)}function func_getView(e,t=!1){let n="No view found with this ID:"+e;try{if(is_ElementExistById(e))return document.getElementById(e)}catch(e){n+="\nError:\n"+e}return t&&console.error(n),null}function func_displayView(e,t=!0){var n=func_getView(e);if(null!==n){var i="d-none",s=func_hasClass(n,i);t&&s?toggleElementClass(e,i):t||s||toggleElementClass(e,i)}}function func_removeView(e){var t=func_getView(e);null!=t&&(t.parentNode.removeChild(t),func_removeView(e))}function func_getTemporaryID(e=null){var t=Math.floor(100*Math.random())+1,n=Date.now()+""+t;return null!=e&&(n=(e=e.trim())+n),is_ElementExistById(n)?func_getTemporaryID(e):n}function func_copyToClipboard(e){navigator.clipboard.writeText(e)}function func_forEach(e,t){for(const[n,i]of Object.entries(e))t(n,i)}class ServerConnection{constructor(e){e.endsWith("/")?this.apiBaseUrl=e:this.apiBaseUrl=e+"/",this.subUrl="",this.setConnectionSetting(this.getConnectionDefaultSetting()),this.formData=new FormData,this.headers=new Array,this.appendHeader("Accept","application/json"),this.appendHeader("X-Requested-With","XMLHttpRequest"),this.appendHeader("X-CSRF-TOKEN",$('meta[name="csrf-token"]').attr("content"))}connect(){$.ajax(this.getConnectionSetting()).done((function(e){}))}appendData(e,t){this.formData.append(e,t)}appendHeader(e,t){this.headers[e]=t}setSubUrl(e){this.subUrl=e}getSubUrl(){return this.subUrl}getApiFullUrl(){return this.apiBaseUrl+this.getSubUrl()}setMethod(e){this.method=e}getMethod(){return this.method}setOnSuccess(e){this.onSuccess=e}setOnFailed(e){this.onFailed=e}setConnectionSetting(e){this.connectionSetting=e}getConnectionSetting(){return this.connectionSetting.url=this.getApiFullUrl(),this.connectionSetting.method=this.getMethod(),this.connectionSetting.headers=this.headers,this.connectionSetting.data=this.formData,this.connectionSetting.success=this.onSuccess,this.connectionSetting.error=this.onFailed,this.connectionSetting}getConnectionDefaultSetting(){return{url:this.getApiFullUrl(),method:"POST",timeout:0,processData:!1,mimeType:"multipart/form-data",contentType:!1,headers:this.headers,data:this.formData,success:function(e){return e},error:function(e,t,n){var i="Server Error: \n "+e.status+" : "+e.statusText;return i+="\n\n response: \n"+e.responseText,alert(i),e}}}}function setSessionStorage(e,t){sessionStorage.setItem(e,t)}function getSessionStorage(e){sessionStorage.getItem(e)}class WidgetInputGroup{constructor(e,t=5){this.attributeName=e,this.maxCount=t,this.addExistingFields()}addExistingFields(){let e=JSON.parse(func_getView("Existing_"+this.attributeName).value);func_isEmpty(e)||e.forEach((e=>{this.addNewField(e)}))}addNewField(e=null){let t=func_getTemporaryID(),n=func_getView(this.attributeName+"_DisplaySection"),i=func_getView(this.attributeName+"_NewFiledTemplate").innerHTML;i=i.replaceAll("TemplateID_"+this.attributeName,t);let s=document.getElementsByName(this.attributeName+"[]").length;n.innerHTML+=i;let o=func_getView("filedInput_"+t);o.setAttribute("name",this.attributeName+"[]"),func_isEmpty(e)||o.setAttribute("value",e);let l=this.attributeName+"."+s;if(is_ElementExistById(l)){func_getView("filedInputSection_"+t).innerHTML+=func_getView(l).innerHTML,func_removeView(l);let e="is-invalid";func_hasClass(o,e)||toggleElementClass(o.id,e)}this.limitFiledsCount()}deleteField(e){func_removeView(e),this.limitFiledsCount()}limitFiledsCount(){func_displayView(this.attributeName+"_addNewFieldBtn",document.getElementsByName(this.attributeName+"_Filed").length<this.maxCount+1)}}class SessionViewController{constructor(){this.key_FullScreen="page_FullScreen",this.btnId_FullScreen="fullscreen-button",this.key_MinimizeSidebar="page_MinimizeSidebar",this.btnId_minimizeSidebar="minimize_sidebar-button",this.defineMinimizeSidebarVaribles(),this.defineFullScreenVaribles()}defineMinimizeSidebarVaribles(){this.btnMinimizeSidebar=document.getElementById(this.btnId_minimizeSidebar),this.btnMinimizeSidebar.onclick=function(){sessionStorage.setItem(this.key_MinimizeSidebar,this.isPageSidebarMinimized())}.bind(this),this.isPageSidebarMinimizedInSession()!=this.isPageSidebarMinimized()&&this.btnMinimizeSidebar.click()}isPageSidebarMinimizedInSession(){return"true"===sessionStorage.getItem(this.key_MinimizeSidebar)}isPageSidebarMinimized(){return func_hasClass(document.getElementsByTagName("BODY")[0],"sidebar-icon-only")}defineFullScreenVaribles(){try{this.btnFullScreen=document.getElementById(this.btnId_FullScreen),null!=this.btnFullScreen&&(this.btnFullScreen.onclick=function(){sessionStorage.setItem(this.key_FullScreen,!this.isPageFullScreen()),this.setPageFullScreenBtnIcon()}.bind(this),this.setPageFullScreenBtnIcon(),document.documentElement.onclick=function(){this.isPageFullScreenInSession()!=this.isPageFullScreen()&&this.btnFullScreen.click()}.bind(this))}catch(e){}}setPageFullScreenBtnIcon(){document.getElementById("fullscreen-button").className=this.isPageFullScreenInSession()?"mdi mdi-fullscreen-exit":"mdi mdi-fullscreen"}isPageFullScreenInSession(){return"true"==sessionStorage.getItem(this.key_FullScreen)}isPageFullScreen(){return!(void 0!==document.fullScreenElement&&null===document.fullScreenElement||void 0!==document.msFullscreenElement&&null===document.msFullscreenElement||void 0!==document.mozFullScreen&&!document.mozFullScreen||void 0!==document.webkitIsFullScreen&&!document.webkitIsFullScreen)}}class Translation{constructor(e){this.locale=e}translate(key){var res="",locale="trans_"+this.locale;try{res=eval(locale+"."+key)}catch(e){res=null}if(null==res||""==res||null==res){var locale_fallback="trans_en";try{res=eval(locale_fallback+"."+key)}catch(e){res=e.message}}return res}}var translation=new Translation("en"),trans=function(e){return translation.translate(e)};class ModalBox{constructor(e){this.modalId=e,this.modal=this.makeModalWindow(),this.width=0,this.onClose=null,this.onYesPressed=null,this.onNoPressed=null,this.setHeader(""),this.setBody(""),this.headerElement=document.getElementById("modal_header_"+this.modalId),this.bodyElement=document.getElementById("modal_body_"+this.modalId),this.footerElement=document.getElementById("modal_footer_"+this.modalId),this.btnCustom=document.getElementById("btn_custom_"+this.modalId),this.btnRealized=document.getElementById("btn_realized_"+this.modalId),this.btnYes=document.getElementById("btn_yes_"+this.modalId),this.btnNo=document.getElementById("btn_no_"+this.modalId),this.hideElement(this.btnCustom),this.hideElement(this.btnRealized),this.hideElement(this.btnYes),this.hideElement(this.btnNo)}create(){this.modal&&(this.updateTranslations(),this.setupDialogWith(),this.setupDialogButtons(),this.headerElement.innerHTML=this.getHeader(),this.bodyElement.innerHTML=this.getBody(),"exception.CSRF token mismatch."==this.getBody()&&window.location.reload(),this.showDialog())}makeModalWindow(){var e=document.createElement("div");return e.innerHTML=this.getModalStructure(),document.body.appendChild(e),document.getElementById(this.modalId)}updateTranslations(){this.btnRealized.value=trans("buttons.iRealized"),this.btnYes.value=trans("buttons.YES"),this.btnNo.value=trans("buttons.NO")}getModalWindow(){var e=document.getElementById(""+this.modalId);return is_ElementExist(e)?e:(alert('Error:\n The modal element by id:  " '+this.modalId+' " Not Found !! '),!1)}showDialog(){this.modal.style.display="block"}closeDialog(){this.modal.style.display="none",null!=this.onClose&&this.onClose()}btnCustomPressed(){null!=this.onCustomBtnPressed&&this.onCustomBtnPressed(),this.closeDialog()}btnYesPressed(){null!=this.onYesPressed&&this.onYesPressed(),this.closeDialog()}btnNoPressed(){null!=this.onNoPressed&&this.onNoPressed(),this.closeDialog()}setupDialogWith(){var e=this.getWidth();e>0&&(document.getElementById("modal_content_"+this.modalId).style.width=e)}setupDialogButtons(){this.btnCustom.onclick=function(){this.btnCustomPressed()}.bind(this),document.getElementById("btn_yes_"+this.modalId).onclick=function(){this.btnYesPressed()}.bind(this),document.getElementById("btn_no_"+this.modalId).onclick=function(){this.btnNoPressed()}.bind(this),this.setupDialogClose()}setupDialogClose(){document.getElementById("close_"+this.modalId).onclick=function(){this.closeDialog()}.bind(this),this.btnRealized.onclick=function(){this.closeDialog()}.bind(this),window.onclick=function(e){e.target==this.modal&&this.closeDialog()}.bind(this)}hideElement(e){e.style.display="none"}showElement(e){e.style.display="unset"}setHeader(e){e+="",this.header=e.replaceAll("\n","<br />")}getHeader(){return this.header}setBody(e){e+="",this.body=e.replaceAll("\n","<br />")}getBody(){return this.body}setFooter(e){this.footer=e}getFooter(){return this.footer}setWidth(e){""!=e&&null!=e&&e>0&&(this.width=e)}getWidth(){var e=this.width;return""!=e&&null!=e&&e>0?this.width:(this.width=0,0)}setCustomBtnLabel(e){this.btnCustom.value=e}setOnClose(e){this.onClose=e}setOnCustomBtnPressed(e){this.onCustomBtnPressed=e}setOnYesPressed(e){this.onYesPressed=e}setOnNoPressed(e){this.onNoPressed=e}getModalStructure(){var e=this.modalId,t="";return t+="<div id='"+e+"' class='hhh_modal' >",t+="<div class='hhh_modal-content' id='modal_content_"+e+"' >",t+="<div class='hhh_modal-header'>",t+="<div class='close-hhh_modal' >",t+="<span id='close_"+e+"'>&times;</span>",t+="</div>",t+="<h4  id='modal_header_"+e+"'></h4>",t+="</div>",t+="<div id='modal_body_"+e+"' class='hhh_modal-body'></div>",t+="<div id='modal_footer_"+e+"' class='hhh_modal-footer'>",t+="<input id='btn_custom_"+e+"' class='btn btn-inverse-dark btn-fw' type='button' value='Custom Button' />",t+="<input id='btn_realized_"+e+"' class='btn btn-inverse-dark btn-fw' type='button' value='"+trans("buttons.iRealized")+"' />",t+="<input id='btn_yes_"+e+"' class='btn btn-inverse-danger btn-fw' type='button' value='"+trans("buttons.YES")+"' />",t+="<input id='btn_no_"+e+"' class='btn btn-inverse-success btn-fw' type='button' value='"+trans("buttons.NO")+"' />",t+="</div>",t+="</div>",t+="</div>"}}class ModalRealize extends ModalBox{constructor(e){super(e),this.showElement(this.btnRealized)}}class ModalConfirm extends ModalBox{constructor(e){super(e),this.showElement(this.btnYes),this.showElement(this.btnNo)}}class ModalCustom extends ModalBox{constructor(e){super(e),this.showElement(this.btnCustom)}}class ModalZoomImage{constructor(){this.modalId="ModalZoomImage",this.modal=this.makeModalWindow()}setImage(e){this.imageUrl=e}makeModalWindow(){var e=document.createElement("div");return e.innerHTML=this.getModalStructure(),document.body.appendChild(e),this.setupDialogClose(),document.getElementById(this.modalId)}setupDialogClose(){document.getElementById("close_"+this.modalId).onclick=function(){this.close()}.bind(this),window.onclick=function(e){e.target==this.modal&&this.close()}.bind(this)}show(){var e=this.modalId+"_image",t=document.getElementById(e);is_ElementExist(t)||((t=document.createElement("img")).id=e,this.modal.appendChild(t)),t.src=this.imageUrl;t.addEventListener("load",(()=>{this.fitImageToScreen(t)})),this.modal.style.display="flex"}close(){this.modal.style.display="none"}fitImageToScreen(e){var t=screen.height>screen.width;this.modal.dataset.vertical=t}getModalStructure(){var e="";return e+="<div id='"+this.modalId+"' class='hhh_modal_zoom' >",e+="<div class='close-hhh_modal' >",e+="<span id='close_"+this.modalId+"'>&times;</span>",e+="</div>",e+="</div>"}}class Modal_loading{constructor(){this.modalId="modalBoxLoading",this.view="view_JumpingDotsLoader",this.modal=this.makeModalWindow()}makeModalWindow(){var e=document.createElement("div");return e.innerHTML=this.getModalStructure(),document.body.appendChild(e),document.getElementById(this.modalId)}show(){this.modal.style.display="unset"}close(){this.modal.style.display="none"}getModalStructure(){var viewFunc=eval("this."+this.view+"()");return viewFunc}view_JumpingDotsLoader(){var e="";return e+="<div id='"+this.modalId+"' class='hhh_modal_loding' >",e+="<div class='jumping-dots-loader'>",e+="<span></span>",e+="<span></span>",e+="<span></span>",e+="</div>",e+="</div>"}view_DotOpacityLoader(){var e="";return e+="<div id='"+this.modalId+"' class='hhh_modal_loding' >",e+="<div class='dot-opacity-loader'>",e+="<span></span>",e+="<span></span>",e+="<span></span>",e+="</div>",e+="</div>"}view_BarLoader(){var e="",t="style='background-color: #b66dff;margin:2px;height: 48px;width: 8px;'";return e+="<div id='"+this.modalId+"' class='hhh_modal_loding' >",e+="<div class='bar-loader' style='width:100px;height:100px;' >",e+="<span "+t+" ></span>",e+="<span "+t+" ></span>",e+="<span "+t+" ></span>",e+="<span "+t+" ></span>",e+="</div>",e+="</div>"}view_SquareBoxLoader(){var e="";return e+="<div id='"+this.modalId+"' class='hhh_modal_loding' >",e+="<div class='square-box-loader'>",e+="<div class='square-box-loader-container'>",e+="<div class='square-box-loader-corner-top'></div>",e+="<div class='square-box-loader-corner-bottom'></div>",e+="</div>",e+="<div class='square-box-loader-square'></div>",e+="</div>"}view_FlipSquareLoader(){var e="";return e+="<div id='"+this.modalId+"' class='hhh_modal_loding' >",e+="<div class='flip-square-loader mx-auto text-secondary'></div>",e+="</div>"}}var JSONViewer=function(e){var t={}.toString,n=t.call(new Date);function i(){this._dom_container=e.createElement("pre"),this._dom_container.classList.add("json-viewer")}function s(i,d,r,c,h){var u=t.call(d)===n,m=!u&&"object"==typeof d&&null!==d&&"toJSON"in d?d.toJSON():d;if("object"!=typeof m||null===m||u)i.appendChild(o(d,u));else{var p=r>=0&&h>=r,g=c>=0&&h>=c,b=Array.isArray(m),v=b?m:Object.keys(m);if(0===h){var f=l(v.length),_=a(b?"[":"{");v.length?(_.addEventListener("click",(function(){p||(_.classList.toggle("collapsed"),f.classList.toggle("hide"),i.querySelector("ul").classList.toggle("hide"))})),g&&(_.classList.add("collapsed"),f.classList.remove("hide"))):_.classList.add("empty"),_.appendChild(f),i.appendChild(_)}if(v.length&&!p){var y=v.length-1,S=e.createElement("ul");S.setAttribute("data-level",h),S.classList.add("type-"+(b?"array":"object")),v.forEach((function(t,n){var i=b?t:d[t],u=e.createElement("li");if("object"==typeof i)if(!i||i instanceof Date)u.appendChild(e.createTextNode(b?"":t+": ")),u.appendChild(o(i||null,!0));else{var m=Array.isArray(i),p=m?i.length:Object.keys(i).length;if(p){var g=("string"==typeof t?t+": ":"")+(m?"[":"{"),v=a(g),f=l(p);r>=0&&h+1>=r?u.appendChild(e.createTextNode(g)):(v.appendChild(f),u.appendChild(v)),s(u,i,r,c,h+1),u.appendChild(e.createTextNode(m?"]":"}"));var _=u.querySelector("ul"),E=function(){v.classList.toggle("collapsed"),f.classList.toggle("hide"),_.classList.toggle("hide")};v.addEventListener("click",E),c>=0&&h+1>=c&&E()}else u.appendChild(e.createTextNode(t+": "+(m?"[]":"{}")))}else b||u.appendChild(e.createTextNode(t+": ")),s(u,i,r,c,h+1);n<y&&u.appendChild(e.createTextNode(",")),S.appendChild(u)}),this),i.appendChild(S)}else if(v.length&&p){(E=l(v.length)).classList.remove("hide"),i.appendChild(E)}if(0===h){var E;if(!v.length)(E=l(0)).classList.remove("hide"),i.appendChild(E);i.appendChild(e.createTextNode(b?"]":"}")),g&&i.querySelector("ul").classList.add("hide")}}}function o(t,n){var i=e.createElement("span"),s=typeof t,o=""+t;return"string"===s?o='"'+t+'"':null===t?s="null":n&&(s="date",o=t.toLocaleString()),i.className="type-"+s,i.textContent=o,i}function l(t){var n=e.createElement("span");return n.className="items-ph hide",n.innerHTML=function(e){var t=e>1||0===e?"items":"item";return e+" "+t}(t),n}function a(t){var n=e.createElement("a");return n.classList.add("list-link"),n.href="javascript:void(0)",n.innerHTML=t||"",n}return i.prototype.showJSON=function(e,t,n){var i="number"==typeof t?t:-1,o="number"==typeof n?n:-1;this._dom_container.innerHTML="",s(this._dom_container,e,i,o,0)},i.prototype.getContainer=function(){return this._dom_container},i}(document);class JsonViewerController{constructor(e,t,n){this.jsonViewType_expand=0,this.jsonViewType_collapse=1,this.jsonViewType_JsutLevel1=2,this.jsonTextareaId=e,this.jsonViewerId=t,this.jsonViewType=n}createView(){var e={},t=new JSONViewer;document.getElementById(this.jsonViewerId).appendChild(t.getContainer());var n=document.getElementById(this.jsonTextareaId),i=function(){try{var t=n.value;e=JSON.parse(t)}catch(e){alert(e)}};switch(i(),this.jsonViewType){default:case this.jsonViewType_expand:i(),t.showJSON(e);break;case this.jsonViewType_collapse:t.showJSON(e,null,1);break;case this.jsonViewType_JsutLevel1:t.showJSON(e,1)}}}
